import{_ as e,V as a,b as s,c as t,F as l,H as n,n as d,e as i,A as r,B as o,f as p,z as c,h,u as f,Z as m}from"./framework.D5KJDRhN.js";const u={class:"tree-layer"},g={key:0,class:"folder-node"},v=["onClick"],y={class:"folder-icon"},x={class:"folder-name"},_={key:0,class:"folder-children"},k=["href"],F={class:"file-info"},P={class:"file-title"},C={class:"file-meta"},b={key:0,class:"modified"},A=e({__name:"TreeNodes",props:{nodes:Array,depth:Number,expandedPaths:Set},emits:["toggle-expand"],setup(e,{emit:c}){const h=c;return(c,f)=>{const m=a("TreeNodes",!0);return s(),t("div",u,[(s(!0),t(l,null,n(e.nodes,(a=>{return s(),t("div",{key:a.path,class:"tree-node",style:d({marginLeft:20*e.depth+"px"})},[a.isFolder?(s(),t("div",g,[i("button",{class:"folder-header",onClick:e=>h("toggle-expand",a.path)},[i("span",y,r(e.expandedPaths.has(a.path)?"📂":"📁"),1),i("span",x,r((c=a.name,c.replace(/(^\d+[-_])/,"").replace(/[-_]/g," ").replace(/(^|\s)\S/g,(e=>e.toUpperCase())))),1)],8,v),e.expandedPaths.has(a.path)?(s(),t("div",_,[o(m,{nodes:a.children,depth:e.depth+1,"expanded-paths":e.expandedPaths,onToggleExpand:f[0]||(f[0]=e=>h("toggle-expand",e))},null,8,["nodes","depth","expanded-paths"])])):p("",!0)])):(s(),t("a",{key:1,href:a.link,class:"file-node"},[f[1]||(f[1]=i("span",{class:"file-icon"},"📄",-1)),i("div",F,[i("div",P,r(a.title),1),i("div",C,[a.meta.modified?(s(),t("time",b,r(a.meta.modified),1)):p("",!0),(s(!0),t(l,null,n(a.meta.tags,(e=>(s(),t("span",{key:e,class:"tag"},r(e),1)))),128))])])],8,k))],4);var c})),128))])}}},[["__scopeId","data-v-2d35600d"]]),E={class:"auto-file-list"},S={class:"list-title"},w=e({__name:"AutoFileList",setup(e){const{page:a,theme:l}=c(),n=a.value.relativePath.replace(/\/index\.md$/,"").split("/").pop();function d(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/, ?/).filter(Boolean):[]}function p(e){e.sort(((e,a)=>e.isFolder&&!a.isFolder?-1:!e.isFolder&&a.isFolder?1:e.name.localeCompare(a.name,void 0,{numeric:!0,sensitivity:"base"}))),e.forEach((e=>e.isFolder&&p(e.children)))}const u=function(e){const a=`/pages/repository/${n}/`,s=[];return e.forEach((e=>{if(!e.regularPath.startsWith(a))return;const t=e.regularPath.replace(a,"").split("/");let l=s;t.forEach(((a,s)=>{const n=s===t.length-1&&/\.\w+$/.test(a)&&a.includes("html"),i=l.find((e=>e.name===a));if(i)l=i.children;else{const i={name:a,title:e.title||(o=a,o.replace(/(^\d+[-_])/,"").replace(/[-_]/g," ").replace(/(^|\s)\S/g,(e=>e.toUpperCase()))),isFolder:!n,path:t.slice(0,s+1).join("/"),link:n?m(e.regularPath.replace(".html","")):null,meta:{tags:d(e.tags),modified:(r=e.lastModified,new Date(r).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}))},children:[]};l.push(i),l=i.children}var r,o}))})),p(s),s}(l.value.RepositoryData),g=h(new Set);function v(e){g.has(e)?g.delete(e):g.add(e)}return(e,a)=>(s(),t("div",E,[i("h2",S,r(f(n))+" 文档库",1),o(A,{nodes:f(u),depth:0,"expanded-paths":g,onToggleExpand:v},null,8,["nodes","expanded-paths"])]))}},[["__scopeId","data-v-c5888a2b"]]);export{w as _};
